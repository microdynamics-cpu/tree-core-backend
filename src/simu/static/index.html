<!doctype html>
<html lang="zh-en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Keyboard Test</title>
    <style>
        * {
            padding: 0;
            padding-top: 10px;
            margin: 0;
            text-align: center;
        }

        #det,
        #jptxt {
            margin-top: 30px;
            width: 500px;
            height: 300px;
            margin: 0 auto;
        }
    </style>
</head>

<body>
    <h1> Keyboard Test</h1>
    <div id="det">pres keyboard</div>
    <!-- <script src="main.js"></script> -->
    <script>
        document.onkeydown = function (even) {
            // console.log('press');
            let jpCode = even.keyCode;
            document.getElementById('det').innerHTML = jpCode;
            let xhr = new XMLHttpRequest();
            xhr.open('POST', 'value', true);
            xhr.setRequestHeader("Content-type", "application/json");
            let obj = {
                "press": 1,
                "params": jpCode,
            };

            xhr.send(JSON.stringify(obj));
        }

        document.onkeyup = function (even) {
            // console.log('key up');
            document.getElementById('det').innerHTML = '0';
            let xhr = new XMLHttpRequest();
            xhr.open('POST', 'value', true);
            xhr.setRequestHeader("Content-type", "application/json");
            let obj = {
                "press": 0,
                "params": 0,
            };
            xhr.send(JSON.stringify(obj));
        }
    </script>
</body>

</html>